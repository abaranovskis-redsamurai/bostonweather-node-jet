define(["ojs/ojcore","knockout","jquery","text!../viewModels/data/boston_weather_clean.json","ojs/ojchart","ojs/ojlabel","ojs/ojvalidation-number","ojs/ojpictochart","ojs/ojlegend","toolbar-comp/loader"],function(e,r,t,o){return new function(){var a=this;a.currentyearattr=r.observable();var s=[{name:"High/Low °F",type:"area",items:[],color:"rgba(237, 102, 71, 0.8)",displayInLegend:"on",location:"back",shortDesc:""}],n=[],m=[{text:"Average °F",items:[],color:"rgba(133, 97, 200,0.5)",displayInLegend:"on",lineWidth:2,location:"front",shortDesc:""}],u=[],p=[],h=[],b=[],v=[],l=[],c=[],i=[],g=[],A=[],F=[],y=[],M={January:u,February:p,March:h,April:b,May:v,June:l,July:c,August:i,September:g,October:A,November:F,December:y},d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],T=e.Validation.converterFactory("number");a.tempConverter=T.createConverter({pattern:"#°F"});var f=JSON.parse(o);t.each(f,function(e,r){if(2009===r.Year){var t=d[r.Month-1];s[0].items.push({low:r["Low Temp (F)"],high:r["High Temp (F)"]}),n.push(r.Day+"-"+t),m[0].items.push(r["Avg Temp (F)"]),1===r.Month&&u.push(r["Avg Temp (F)"]),2===r.Month&&p.push(r["Avg Temp (F)"]),3===r.Month&&h.push(r["Avg Temp (F)"]),4===r.Month&&b.push(r["Avg Temp (F)"]),5===r.Month&&v.push(r["Avg Temp (F)"]),6===r.Month&&l.push(r["Avg Temp (F)"]),7===r.Month&&c.push(r["Avg Temp (F)"]),8===r.Month&&i.push(r["Avg Temp (F)"]),9===r.Month&&g.push(r["Avg Temp (F)"]),10===r.Month&&A.push(r["Avg Temp (F)"]),11===r.Month&&F.push(r["Avg Temp (F)"]),12===r.Month&&y.push(r["Avg Temp (F)"])}}),a.rangeSeriesValue=r.observableArray(s),a.rangeGroupsValue=r.observableArray(n),a.refObjs=r.observableArray(m),a.handleYearSelection=function(e){var r=e.detail.value;s[0].items=[],n=[],m[0].items=[],u=[],p=[],h=[],b=[],v=[],l=[],c=[],i=[],g=[],A=[],F=[],y=[],t.each(f,function(e,t){if(t.Year===r){var o=d[t.Month-1];s[0].items.push({low:t["Low Temp (F)"],high:t["High Temp (F)"]}),n.push(t.Day+"-"+o),m[0].items.push(t["Avg Temp (F)"]),1===t.Month&&u.push(t["Avg Temp (F)"]),2===t.Month&&p.push(t["Avg Temp (F)"]),3===t.Month&&h.push(t["Avg Temp (F)"]),4===t.Month&&b.push(t["Avg Temp (F)"]),5===t.Month&&v.push(t["Avg Temp (F)"]),6===t.Month&&l.push(t["Avg Temp (F)"]),7===t.Month&&c.push(t["Avg Temp (F)"]),8===t.Month&&i.push(t["Avg Temp (F)"]),9===t.Month&&g.push(t["Avg Temp (F)"]),10===t.Month&&A.push(t["Avg Temp (F)"]),11===t.Month&&F.push(t["Avg Temp (F)"]),12===t.Month&&y.push(t["Avg Temp (F)"])}}),M.January=u,M.February=p,M.March=h,M.April=b,M.May=v,M.June=l,M.July=c,M.August=i,M.September=g,M.October=A,M.November=F,M.December=y,a.rangeSeriesValue(s),a.rangeGroupsValue(n),a.refObjs(m),a.janItems(D(r,"January",0)),a.febItems(D(r,"February",1)),a.marItems(D(r,"March",2)),a.aprilItems(D(r,"April",3)),a.mayItems(D(r,"May",4)),a.juneItems(D(r,"June",5)),a.julyItems(D(r,"July",6)),a.augustItems(D(r,"August",7)),a.septemberItems(D(r,"September",8)),a.octoberItems(D(r,"October",9)),a.novemberItems(D(r,"November",10)),a.decemberItems(D(r,"December",11))};for(var I=[],j=["5-20°F","20-30°F","30-40°F","40-50°F","50-60°F","60-70°F","70-100°F"],J=["267db3","47bdef","6ddbdb","a2bf39","fad55c","ffb54d","ed6647","ed6647"],D=function(e,r,t){for(var o=[],a=M[r],s=new Date(e,t,1).getDay(),n=0,m=0;m<a.length;m++){var u=a[m];if(n<s)o.push({name:"",color:"rgba(0,0,0,0)"}),n++,m--;else{var p=Math.floor(u/10)-1;p<0&&(p=0),p>7&&(p=7),o.push({name:r+" "+(m+1)+" ("+u+"°F)",color:"#"+J[p]})}}return o},S=0;S<j.length;S++)I.push({text:j[S],color:"#"+J[S]});a.janItems=r.observableArray(D(2019,"January",0)),a.febItems=r.observableArray(D(2019,"February",1)),a.marItems=r.observableArray(D(2019,"March",2)),a.aprilItems=r.observableArray(D(2019,"April",3)),a.mayItems=r.observableArray(D(2019,"May",4)),a.juneItems=r.observableArray(D(2019,"June",5)),a.julyItems=r.observableArray(D(2019,"July",6)),a.augustItems=r.observableArray(D(2019,"August",7)),a.septemberItems=r.observableArray(D(2019,"September",8)),a.octoberItems=r.observableArray(D(2019,"October",9)),a.novemberItems=r.observableArray(D(2019,"November",10)),a.decemberItems=r.observableArray(D(2019,"December",11)),a.legendSections=r.observableArray([{items:I}]),this.tooltipFunction=function(e){return{insert:e.name}},a.connected=function(){},a.disconnected=function(){},a.transitionCompleted=function(){}}});